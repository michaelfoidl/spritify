name: restore-cache
description: 'Restores the files cached under the given artifact name'
inputs:
  artifact-key:
    description: 'Key of the artifact to restore'
    required: true
runs:
  using: 'composite'
  steps:
  - name: Get cache directory
    shell: bash
    run: |
      CACHE_DIR=~/.${{ inputs.artifact-key }};
  - name: Initialize cache
    uses: actions/cache@v2
    with:
      key: ${{ inputs.artifact-key }}
      path: $CACHE_DIR
  - name: Copy files from cache
    shell: bash
    run: |
      cp -r $CACHE_DIR/* ${{ github.workspace }}